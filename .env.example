# Environment Configuration Template
# Copy to .env and configure based on your deployment

# ====================================
# DEPLOYMENT MODE
# ====================================
# Set to "local" for local development or "aws" for AWS deployment
DEPLOYMENT_MODE=local

# ====================================
# DATABASE CONFIGURATION
# ====================================
# Database type: "local" or "rds"
DB_TYPE=local

# Local PostgreSQL (used when DB_TYPE=local)
LOCAL_DB_URL=postgresql://cicd_assistant:secure_password@postgres-assistant:5432/cicd_assistant

# AWS RDS (used when DB_TYPE=rds)
RDS_ENDPOINT=your-rds-instance.region.rds.amazonaws.com
RDS_PORT=5432
RDS_DATABASE=cicd_assistant
RDS_USERNAME=your_rds_user
RDS_PASSWORD=your_rds_password

# ====================================
# QUEUE CONFIGURATION
# ====================================
# Queue type: "rabbitmq", "redis", or "sqs"
QUEUE_TYPE=rabbitmq

# Local Queue Options
RABBITMQ_URL=amqp://admin:admin@rabbitmq:5672
REDIS_URL=redis://redis:6379
QUEUE_NAME=webhook-events

# AWS SQS (used when QUEUE_TYPE=sqs)
SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789/your-queue-name
SQS_REGION=us-east-1

# ====================================
# VECTOR STORE CONFIGURATION
# ====================================
# Vector store type: "local" or "aws"
VECTOR_STORE_TYPE=local

# Local OpenSearch (used when VECTOR_STORE_TYPE=local)
LOCAL_OPENSEARCH_ENDPOINT=http://opensearch:9200

# AWS OpenSearch (used when VECTOR_STORE_TYPE=aws)
AWS_OPENSEARCH_ENDPOINT=https://your-domain.region.aoss.amazonaws.com
AWS_OPENSEARCH_REGION=us-east-1

# Common OpenSearch settings
OPENSEARCH_INDEX=cicd-fixes
OPENSEARCH_USERNAME=
OPENSEARCH_PASSWORD=

# ====================================
# AWS CREDENTIALS
# ====================================
# Required when using any AWS services
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=
AWS_REGION=us-east-1

# ====================================
# LLM CONFIGURATION
# ====================================
LLM_PROVIDER=bedrock
MODEL_ID=anthropic.claude-3-5-sonnet-20241022-v2:0
ANTHROPIC_API_KEY=

# ====================================
# GITLAB CONFIGURATION
# ====================================
GITLAB_URL=http://gitlab:80
GITLAB_TOKEN=your-gitlab-token
GITLAB_WEBHOOK_SECRET=your-webhook-secret

# ====================================
# SONARQUBE CONFIGURATION
# ====================================
SONAR_HOST_URL=http://sonarqube:9000
SONAR_TOKEN=your-sonar-token
SONARQUBE_WEBHOOK_SECRET=your-sonarqube-secret

# ====================================
# WEBHOOK HANDLER CONFIGURATION
# ====================================
WEBHOOK_AUTH_ENABLED=true
WEBHOOK_HMAC_SECRET=your-hmac-secret

# ====================================
# PROCESSING CONFIGURATION
# ====================================
SESSION_TIMEOUT_MINUTES=30
MAX_FIX_ATTEMPTS=3
MAX_LOG_SIZE=30000
LOG_LEVEL=INFO